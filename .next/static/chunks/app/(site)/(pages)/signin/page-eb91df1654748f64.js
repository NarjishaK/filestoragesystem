(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{2443:(e,t,a)=>{Promise.resolve().then(a.bind(a,3610))},3610:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(5155),o=a(6874),i=a.n(o),n=a(2115),s=a(4514),l=a(4752),c=a.n(l);let d=()=>{let[e,t]=(0,n.useState)({email:"",password:""}),a=async t=>{if(t.preventDefault(),!e.email||!e.password){c().fire({icon:"error",title:"Oops...",text:"Email and password are required!"});return}try{let t=await (0,s.Sh)({email:e.email,password:e.password});t.token?(localStorage.setItem("token",t.token),localStorage.setItem("customerDetails",JSON.stringify(t.customerDetails)),window.location.href="/"):"Your account is blocked"===t.message?c().fire({icon:"error",title:"Account Blocked",text:"Your account has been blocked. Please contact support."}):t.emailNotVerified?c().fire({icon:"warning",title:"Email Not Verified",text:t.message||"Please verify your email before logging in. Check your Email for the verification link.",showCancelButton:!0,confirmButtonText:"OKAY",cancelButtonText:"OK"}).then(t=>{t.isConfirmed&&console.log("Resend verification email for:",e.email)}):c().fire({icon:"error",title:"Oops...",text:"Invalid credentials!"})}catch(t){if(t.response&&t.response.data){let{emailNotVerified:a,message:r}=t.response.data;a?c().fire({icon:"warning",title:"Email Not Verified",text:r||"Please verify your email before logging in. Check your Email for the verification link.",showCancelButton:!0,confirmButtonText:"OKAY",cancelButtonText:"OK"}).then(t=>{t.isConfirmed&&console.log("Resend verification email for:",e.email)}):c().fire({icon:"error",title:"Oops...",text:r||"Login failed. Please try again."})}else c().fire({icon:"error",title:"Oops...",text:"Login failed. Please check your credentials and try again."})}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"7rem"},children:(0,r.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,r.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,r.jsxs)("div",{className:"max-w-[570px] w-full mx-auto rounded-xl bg-white shadow-1 p-4 sm:p-7.5 xl:p-11",children:[(0,r.jsxs)("div",{className:"text-center mb-11",children:[(0,r.jsx)("h2",{className:"font-semibold text-xl sm:text-2xl xl:text-heading-5 text-dark mb-1.5",children:"Sign In to Your Account"}),(0,r.jsx)("p",{children:"Enter your detail below"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("form",{onSubmit:a,children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block mb-2.5",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",onChange:a=>t({...e,email:a.target.value}),id:"email",placeholder:"Enter your email",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-2.5",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",id:"password",onChange:a=>t({...e,password:a.target.value}),placeholder:"Enter your password",autoComplete:"on",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue mt-7.5",children:"Sign in to account"}),(0,r.jsx)("a",{href:"/forgetpassword",className:"block text-center text-dark-4 mt-4.5 ease-out duration-200 hover:text-dark",children:"Forget your password?"}),(0,r.jsxs)("p",{className:"text-center mt-6",children:["Don't have an account?",(0,r.jsx)(i(),{href:"/signup",className:"text-dark ease-out duration-200 hover:text-blue pl-2",children:"Sign Up Now!"})]})]})})]})})})})})}},4514:(e,t,a)=>{"use strict";a.d(t,{C1:()=>n,Lp:()=>m,QM:()=>s,Sh:()=>l,Uq:()=>d,Ww:()=>u,z5:()=>c});var r=a(3464),o=a(4752),i=a.n(o);let n="https://api.filestorage.zyva-designs.com",s=async e=>{try{let t=localStorage.getItem("token"),a=await r.A.post("".concat(n,"/filestorage"),e,{headers:{Authorization:"Bearer ".concat(t)}});return i().fire("Success","File uploaded successfully","success"),a.data}catch(e){i().fire("Error","Failed to upload file","error"),console.error(e)}},l=async e=>(await r.A.post("".concat(n,"/customer/login"),e)).data,c=async e=>(await r.A.post("".concat(n,"/customer"),e)).data,d=async()=>{let e=JSON.parse(localStorage.getItem("customerDetails")),t=null==e?void 0:e._id,a=localStorage.getItem("token");return(await r.A.get("".concat(n,"/filestorage"),{params:{customerId:t},headers:{Authorization:"Bearer ".concat(a)}})).data},u=async(e,t)=>{if((await i().fire({title:"Are you sure?",text:"This file will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let a=localStorage.getItem("token"),o=await r.A.delete("".concat(n,"/filestorage/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}});return i().fire("Deleted!","The file has been deleted.","success"),t&&t(),o.data}catch(e){i().fire("Error!","Something went wrong while deleting.","error"),console.error(e)}},m=async e=>{let t=localStorage.getItem("token");return(await r.A.get("".concat(n,"/filestorage/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,464,874,441,684,358],()=>t(2443)),_N_E=e.O()}]);