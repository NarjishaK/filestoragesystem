(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{3386:()=>{},3610:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var t=s(5155),l=s(6874),r=s.n(l),o=s(2115),n=s(4514),i=s(4752),d=s.n(i);let c=()=>{let[e,a]=(0,o.useState)({email:"",password:""}),s=async a=>{if(a.preventDefault(),!e.email||!e.password){d().fire({icon:"error",title:"Oops...",text:"Email and password are required!"});return}try{let a=await (0,n.Sh)({email:e.email,password:e.password});a.token?(localStorage.setItem("token",a.token),localStorage.setItem("customerDetails",JSON.stringify(a.customerDetails)),window.location.href="/"):"Your account is blocked"===a.message?d().fire({icon:"error",title:"Account Blocked",text:"Your account has been blocked. Please contact support."}):a.emailNotVerified?d().fire({icon:"warning",title:"Email Not Verified",text:a.message||"Please verify your email before logging in. Check your Email for the verification link.",showCancelButton:!0,confirmButtonText:"OKAY",cancelButtonText:"OK"}).then(a=>{a.isConfirmed&&console.log("Resend verification email for:",e.email)}):d().fire({icon:"error",title:"Oops...",text:"Invalid credentials!"})}catch(a){if(a.response&&a.response.data){let{emailNotVerified:s,message:t}=a.response.data;s?d().fire({icon:"warning",title:"Email Not Verified",text:t||"Please verify your email before logging in. Check your Email for the verification link.",showCancelButton:!0,confirmButtonText:"OKAY",cancelButtonText:"OK"}).then(a=>{a.isConfirmed&&console.log("Resend verification email for:",e.email)}):d().fire({icon:"error",title:"Oops...",text:t||"Login failed. Please try again."})}else d().fire({icon:"error",title:"Oops...",text:"Login failed. Please check your credentials and try again."})}};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,t.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,t.jsxs)("div",{className:"max-w-[570px] w-full mx-auto rounded-xl bg-white shadow-1 p-4 sm:p-7.5 xl:p-11",children:[(0,t.jsxs)("div",{className:"text-center mb-11",children:[(0,t.jsx)("h2",{className:"font-semibold text-xl sm:text-2xl xl:text-heading-5 text-dark mb-1.5",children:"Sign In to Your Account"}),(0,t.jsx)("p",{children:"Enter your detail below"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:s,children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-2.5",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",onChange:s=>a({...e,email:s.target.value}),id:"email",placeholder:"Enter your email",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block mb-2.5",children:"Password"}),(0,t.jsx)("input",{type:"password",name:"password",id:"password",onChange:s=>a({...e,password:s.target.value}),placeholder:"Enter your password",autoComplete:"on",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue mt-7.5",children:"Sign in to account"}),(0,t.jsx)("a",{href:"/forgetpassword",className:"block text-center text-dark-4 mt-4.5 ease-out duration-200 hover:text-dark",children:"Forget your password?"}),(0,t.jsxs)("p",{className:"text-center mt-6",children:["Don't have an account?",(0,t.jsx)(r(),{href:"/signup",className:"text-dark ease-out duration-200 hover:text-blue pl-2",children:"Sign Up Now!"})]})]})})]})})})})})}},4514:(e,a,s)=>{"use strict";s.d(a,{C1:()=>o,Lp:()=>m,QM:()=>n,Sh:()=>i,Uq:()=>c,Ww:()=>u,z5:()=>d});var t=s(3464),l=s(4752),r=s.n(l);let o="https://api.filestorage.zyva-designs.com",n=async e=>{try{let a=localStorage.getItem("token"),s=await t.A.post("".concat(o,"/filestorage"),e,{headers:{Authorization:"Bearer ".concat(a)}});return r().fire("Success","File uploaded successfully","success"),s.data}catch(e){r().fire("Error","Failed to upload file","error"),console.error(e)}},i=async e=>(await t.A.post("".concat(o,"/customer/login"),e)).data,d=async e=>(await t.A.post("".concat(o,"/customer"),e)).data,c=async()=>{let e=JSON.parse(localStorage.getItem("customerDetails")),a=null==e?void 0:e._id,s=localStorage.getItem("token");return(await t.A.get("".concat(o,"/filestorage"),{params:{customerId:a},headers:{Authorization:"Bearer ".concat(s)}})).data},u=async(e,a)=>{if((await r().fire({title:"Are you sure?",text:"This file will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let s=localStorage.getItem("token"),l=await t.A.delete("".concat(o,"/filestorage/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}});return r().fire("Deleted!","The file has been deleted.","success"),a&&a(),l.data}catch(e){r().fire("Error!","Something went wrong while deleting.","error"),console.error(e)}},m=async e=>{let a=localStorage.getItem("token");return(await t.A.get("".concat(o,"/filestorage/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}})).data}},7061:(e,a,s)=>{Promise.resolve().then(s.bind(s,7465))},7465:(e,a,s)=>{"use strict";s.d(a,{default:()=>u});var t=s(5155),l=s(2115),r=s(3464),o=s(4514),n=s(4752),i=s.n(n);let d=e=>{let{isOpen:a,closeModal:s}=e,[n,d]=(0,l.useState)({name:"",email:"",phone:""}),c=JSON.parse(localStorage.getItem("customerDetails"))||{};(0,l.useEffect)(()=>{c&&d({name:c.name||"",email:c.email||"",phone:c.phone||""})},[a]);let u=e=>{d({...n,[e.target.name]:e.target.value})},m=async e=>{e.preventDefault();try{let e=await r.A.put("".concat(o.C1,"/customer/").concat(c._id),n);i().fire({icon:"success",title:"Success!",text:"Customer updated successfully!"}),localStorage.setItem("customerDetails",JSON.stringify(e.data)),s()}catch(e){var a,t;i().fire({icon:"error",title:"Oops...",text:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Update failed."})}};return(0,t.jsx)("div",{className:"fixed top-0 left-0 overflow-y-auto no-scrollbar w-full h-screen sm:py-20 xl:py-25 2xl:py-[230px] bg-dark/70 sm:px-8 px-4 py-5 ".concat(a?"block z-99999":"hidden"),children:(0,t.jsx)("div",{className:"flex items-center justify-center ",children:(0,t.jsxs)("div",{"x-show":"addressModal",className:"w-full max-w-[1100px] rounded-xl shadow-3 bg-white p-7.5 relative modal-content",children:[(0,t.jsx)("button",{onClick:s,"aria-label":"button for close modal",className:"absolute top-0 right-0 sm:top-3 sm:right-3 flex items-center justify-center w-10 h-10 rounded-full ease-in duration-150 bg-meta text-body hover:text-dark",children:(0,t.jsx)("svg",{className:"fill-current",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3108 13L19.2291 8.08167C19.5866 7.72417 19.5866 7.12833 19.2291 6.77083C19.0543 6.59895 18.8189 6.50262 18.5737 6.50262C18.3285 6.50262 18.0932 6.59895 17.9183 6.77083L13 11.6892L8.08164 6.77083C7.90679 6.59895 7.67142 6.50262 7.42623 6.50262C7.18104 6.50262 6.94566 6.59895 6.77081 6.77083C6.41331 7.12833 6.41331 7.72417 6.77081 8.08167L11.6891 13L6.77081 17.9183C6.41331 18.2758 6.41331 18.8717 6.77081 19.2292C7.12831 19.5867 7.72414 19.5867 8.08164 19.2292L13 14.3108L17.9183 19.2292C18.2758 19.5867 18.8716 19.5867 19.2291 19.2292C19.5866 18.8717 19.5866 18.2758 19.2291 17.9183L14.3108 13Z",fill:""})})}),(0,t.jsx)("div",{children:(0,t.jsxs)("form",{children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block mb-2.5",children:"Name"}),(0,t.jsx)("input",{type:"text",name:"name",value:n.name,onChange:u,placeholder:null==c?void 0:c.name,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-2.5",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",value:n.email,onChange:u,placeholder:null==c?void 0:c.email,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})]}),(0,t.jsx)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block mb-2.5",children:"Phone"}),(0,t.jsx)("input",{type:"text",name:"phone",value:n.phone,onChange:u,placeholder:null==c?void 0:c.phone,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})}),(0,t.jsx)("button",{type:"submit",onClick:m,className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Update Changes"})]})})]})})})};s(3386);var c=s(3610);let u=()=>{let[e,a]=(0,l.useState)("addresses"),[s,n]=(0,l.useState)(!1),u=localStorage.getItem("customerDetails"),m=u?JSON.parse(u):null,[x,p]=(0,l.useState)({oldPassword:"",newPassword:"",confirmNewPassword:""}),h=e=>{p({...x,[e.target.name]:e.target.value})},f=async e=>{e.preventDefault();let a=localStorage.getItem("customerDetails"),s=a?JSON.parse(a):null;if(!(null==s?void 0:s._id))return alert("Customer not logged in.");try{await r.A.put("".concat(o.C1,"/customer/update-password/").concat(s._id),x),i().fire({icon:"success",title:"Success!",text:"Password updated successfully!"}),p({oldPassword:"",newPassword:"",confirmNewPassword:""})}catch(e){var t,l;i().fire({icon:"error",title:"Oops...",text:(null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)||"Something went wrong"})}},[g,b]=(0,l.useState)(null);return((0,l.useEffect)(()=>{b(!!localStorage.getItem("token"))},[]),null===g)?null:g?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,t.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,t.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,t.jsxs)("div",{className:"flex flex-col xl:flex-row gap-7.5",children:[(0,t.jsx)("div",{className:"xl:max-w-[370px] w-full bg-white rounded-xl shadow-1",children:(0,t.jsxs)("div",{className:"flex xl:flex-col",children:[(0,t.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-5 py-6 px-4 sm:px-7.5 xl:px-9 border-r xl:border-r-0 xl:border-b border-gray-3",children:[(0,t.jsx)("div",{className:"max-w-[64px] w-full h-16 rounded-full overflow-hidden",children:(0,t.jsx)("img",{src:"https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",alt:"user",width:64,height:64})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-dark mb-0.5",children:null==m?void 0:m.name}),(0,t.jsx)("p",{className:"text-custom-xs",children:null==m?void 0:m.email})]})]}),(0,t.jsx)("div",{className:"p-4 sm:p-7.5 xl:p-9",children:(0,t.jsxs)("div",{className:"flex flex-wrap xl:flex-nowrap xl:flex-col gap-4",children:[(0,t.jsxs)("button",{onClick:()=>a("addresses"),className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("addresses"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,t.jsx)("i",{className:"bi bi-person"}),"Account Details"]}),(0,t.jsxs)("button",{onClick:()=>a("account-details"),className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("account-details"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,t.jsx)("i",{className:"bi bi-key"}),"Password"]}),(0,t.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/signin"},className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("logout"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,t.jsx)("i",{className:"bi bi-box-arrow-left"}),"Logout"]})]})})]})}),(0,t.jsx)("div",{className:"xl:max-w-[770px] w-full bg-white rounded-xl shadow-1 ".concat("addresses"===e?"flex":"hidden"),children:(0,t.jsxs)("div",{className:" w-full bg-white shadow-1 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-5 px-4 sm:pl-7.5 sm:pr-6 border-b border-gray-3",children:[(0,t.jsx)("p",{className:"font-medium text-xl text-dark",children:"Account Details"}),(0,t.jsx)("button",{className:"text-dark ease-out duration-200 hover:text-blue",onClick:()=>{n(!0)},children:(0,t.jsx)("i",{className:"bi bi-pencil-square"})})]}),(0,t.jsx)("div",{className:"p-4 sm:p-7.5",style:{width:"100%"},children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",style:{width:"100%"},children:[(0,t.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,t.jsx)("i",{className:"bi bi-person"}),"Name: ",null==m?void 0:m.name]}),(0,t.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,t.jsx)("i",{className:"bi bi-envelope"}),"Email: ",null==m?void 0:m.email]}),(0,t.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,t.jsx)("i",{className:"bi bi-telephone"}),"Phone: ",null==m?void 0:m.phone]})]})})]})}),(0,t.jsx)("div",{className:"xl:max-w-[770px] w-full ".concat("account-details"===e?"block":"hidden"),children:(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsx)("p",{className:"font-medium text-xl sm:text-2xl text-dark mb-7",children:"Password Change"}),(0,t.jsxs)("div",{className:"bg-white shadow-1 rounded-xl p-4 sm:p-8.5",children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"oldPassword",className:"block mb-2.5",children:"Old Password"}),(0,t.jsx)("input",{type:"password",name:"oldPassword",id:"oldPassword",value:x.oldPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"block mb-2.5",children:"New Password"}),(0,t.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",value:x.newPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"confirmNewPassword",className:"block mb-2.5",children:"Confirm New Password"}),(0,t.jsx)("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:x.confirmNewPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,t.jsx)("button",{type:"submit",className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Change Password"})]})]})})]})})}),(0,t.jsx)(d,{isOpen:s,closeModal:()=>{n(!1)}})]})}):(0,t.jsx)(c.default,{})}}},e=>{var a=a=>e(e.s=a);e.O(0,[675,320,464,874,441,684,358],()=>a(7061)),_N_E=e.O()}]);