(()=>{var e={};e.id=830,e.ids=[830],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},1896:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>o});var r=t(7413),a=t(5254);t(1120);let o={title:"My Account |File Storage system",description:"This is My Account page "},l=()=>(0,r.jsx)("main",{children:(0,r.jsx)(a.default,{})})},1905:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(687),a=t(3210),o=t(1060),l=t(7618),n=t(7567);let i=({isOpen:e,closeModal:s})=>{let[t,i]=(0,a.useState)({name:"",email:"",phone:""}),d=JSON.parse(localStorage.getItem("customerDetails"))||{};(0,a.useEffect)(()=>{d&&i({name:d.name||"",email:d.email||"",phone:d.phone||""})},[e]);let c=e=>{i({...t,[e.target.name]:e.target.value})},u=async e=>{e.preventDefault();try{let e=await o.A.put(`${l.C1}/customer/${d._id}`,t);n.A.fire({icon:"success",title:"Success!",text:"Customer updated successfully!"}),localStorage.setItem("customerDetails",JSON.stringify(e.data)),s()}catch(e){n.A.fire({icon:"error",title:"Oops...",text:e.response?.data?.message||"Update failed."})}};return(0,r.jsx)("div",{className:`fixed top-0 left-0 overflow-y-auto no-scrollbar w-full h-screen sm:py-20 xl:py-25 2xl:py-[230px] bg-dark/70 sm:px-8 px-4 py-5 ${e?"block z-99999":"hidden"}`,children:(0,r.jsx)("div",{className:"flex items-center justify-center ",children:(0,r.jsxs)("div",{"x-show":"addressModal",className:"w-full max-w-[1100px] rounded-xl shadow-3 bg-white p-7.5 relative modal-content",children:[(0,r.jsx)("button",{onClick:s,"aria-label":"button for close modal",className:"absolute top-0 right-0 sm:top-3 sm:right-3 flex items-center justify-center w-10 h-10 rounded-full ease-in duration-150 bg-meta text-body hover:text-dark",children:(0,r.jsx)("svg",{className:"fill-current",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3108 13L19.2291 8.08167C19.5866 7.72417 19.5866 7.12833 19.2291 6.77083C19.0543 6.59895 18.8189 6.50262 18.5737 6.50262C18.3285 6.50262 18.0932 6.59895 17.9183 6.77083L13 11.6892L8.08164 6.77083C7.90679 6.59895 7.67142 6.50262 7.42623 6.50262C7.18104 6.50262 6.94566 6.59895 6.77081 6.77083C6.41331 7.12833 6.41331 7.72417 6.77081 8.08167L11.6891 13L6.77081 17.9183C6.41331 18.2758 6.41331 18.8717 6.77081 19.2292C7.12831 19.5867 7.72414 19.5867 8.08164 19.2292L13 14.3108L17.9183 19.2292C18.2758 19.5867 18.8716 19.5867 19.2291 19.2292C19.5866 18.8717 19.5866 18.2758 19.2291 17.9183L14.3108 13Z",fill:""})})}),(0,r.jsx)("div",{children:(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block mb-2.5",children:"Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:t.name,onChange:c,placeholder:d?.name,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block mb-2.5",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:t.email,onChange:c,placeholder:d?.email,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})]}),(0,r.jsx)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block mb-2.5",children:"Phone"}),(0,r.jsx)("input",{type:"text",name:"phone",value:t.phone,onChange:c,placeholder:d?.phone,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})}),(0,r.jsx)("button",{type:"submit",onClick:u,className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Update Changes"})]})})]})})})};t(8334);var d=t(8608);let c=()=>{let[e,s]=(0,a.useState)("addresses"),[t,c]=(0,a.useState)(!1),u=localStorage.getItem("customerDetails"),m=u?JSON.parse(u):null,[p,x]=(0,a.useState)({oldPassword:"",newPassword:"",confirmNewPassword:""}),h=e=>{x({...p,[e.target.name]:e.target.value})},f=async e=>{e.preventDefault();let s=localStorage.getItem("customerDetails"),t=s?JSON.parse(s):null;if(!t?._id)return alert("Customer not logged in.");try{await o.A.put(`${l.C1}/customer/update-password/${t._id}`,p),n.A.fire({icon:"success",title:"Success!",text:"Password updated successfully!"}),x({oldPassword:"",newPassword:"",confirmNewPassword:""})}catch(e){n.A.fire({icon:"error",title:"Oops...",text:e.response?.data?.message||"Something went wrong"})}},[b,g]=(0,a.useState)(null);return((0,a.useEffect)(()=>{g(!!localStorage.getItem("token"))},[]),null===b)?null:b?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,r.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,r.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,r.jsxs)("div",{className:"flex flex-col xl:flex-row gap-7.5",children:[(0,r.jsx)("div",{className:"xl:max-w-[370px] w-full bg-white rounded-xl shadow-1",children:(0,r.jsxs)("div",{className:"flex xl:flex-col",children:[(0,r.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-5 py-6 px-4 sm:px-7.5 xl:px-9 border-r xl:border-r-0 xl:border-b border-gray-3",children:[(0,r.jsx)("div",{className:"max-w-[64px] w-full h-16 rounded-full overflow-hidden",children:(0,r.jsx)("img",{src:"https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",alt:"user",width:64,height:64})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-dark mb-0.5",children:m?.name}),(0,r.jsx)("p",{className:"text-custom-xs",children:m?.email})]})]}),(0,r.jsx)("div",{className:"p-4 sm:p-7.5 xl:p-9",children:(0,r.jsxs)("div",{className:"flex flex-wrap xl:flex-nowrap xl:flex-col gap-4",children:[(0,r.jsxs)("button",{onClick:()=>s("addresses"),className:`flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ${"addresses"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"}`,children:[(0,r.jsx)("i",{className:"bi bi-person"}),"Account Details"]}),(0,r.jsxs)("button",{onClick:()=>s("account-details"),className:`flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ${"account-details"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"}`,children:[(0,r.jsx)("i",{className:"bi bi-key"}),"Password"]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/signin"},className:`flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ${"logout"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"}`,children:[(0,r.jsx)("i",{className:"bi bi-box-arrow-left"}),"Logout"]})]})})]})}),(0,r.jsx)("div",{className:`xl:max-w-[770px] w-full bg-white rounded-xl shadow-1 ${"addresses"===e?"flex":"hidden"}`,children:(0,r.jsxs)("div",{className:" w-full bg-white shadow-1 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between py-5 px-4 sm:pl-7.5 sm:pr-6 border-b border-gray-3",children:[(0,r.jsx)("p",{className:"font-medium text-xl text-dark",children:"Account Details"}),(0,r.jsx)("button",{className:"text-dark ease-out duration-200 hover:text-blue",onClick:()=>{c(!0)},children:(0,r.jsx)("i",{className:"bi bi-pencil-square"})})]}),(0,r.jsx)("div",{className:"p-4 sm:p-7.5",style:{width:"100%"},children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",style:{width:"100%"},children:[(0,r.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,r.jsx)("i",{className:"bi bi-person"}),"Name: ",m?.name]}),(0,r.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,r.jsx)("i",{className:"bi bi-envelope"}),"Email: ",m?.email]}),(0,r.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,r.jsx)("i",{className:"bi bi-telephone"}),"Phone: ",m?.phone]})]})})]})}),(0,r.jsx)("div",{className:`xl:max-w-[770px] w-full ${"account-details"===e?"block":"hidden"}`,children:(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsx)("p",{className:"font-medium text-xl sm:text-2xl text-dark mb-7",children:"Password Change"}),(0,r.jsxs)("div",{className:"bg-white shadow-1 rounded-xl p-4 sm:p-8.5",children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{htmlFor:"oldPassword",className:"block mb-2.5",children:"Old Password"}),(0,r.jsx)("input",{type:"password",name:"oldPassword",id:"oldPassword",value:p.oldPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{htmlFor:"newPassword",className:"block mb-2.5",children:"New Password"}),(0,r.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",value:p.newPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{htmlFor:"confirmNewPassword",className:"block mb-2.5",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:p.confirmNewPassword,onChange:h,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,r.jsx)("button",{type:"submit",className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Change Password"})]})]})})]})})}),(0,r.jsx)(i,{isOpen:t,closeModal:()=>{c(!1)}})]})}):(0,r.jsx)(d.default,{})}},2412:e=>{"use strict";e.exports=require("assert")},3011:(e,s,t)=>{Promise.resolve().then(t.bind(t,5254))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4735:e=>{"use strict";e.exports=require("events")},5254:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/narjisha/Desktop/filestorage-frontend/src/components/MyAccount/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/narjisha/Desktop/filestorage-frontend/src/components/MyAccount/index.tsx","default")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7083:(e,s,t)=>{Promise.resolve().then(t.bind(t,1905))},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9233:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(5239),a=t(8088),o=t(8170),l=t.n(o),n=t(893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let d={children:["",{children:["(site)",{children:["(pages)",{children:["my-account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1896)),"/Users/narjisha/Desktop/filestorage-frontend/src/app/(site)/(pages)/my-account/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7374)),"/Users/narjisha/Desktop/filestorage-frontend/src/app/(site)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/narjisha/Desktop/filestorage-frontend/src/app/(site)/(pages)/my-account/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(site)/(pages)/my-account/page",pathname:"/my-account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,825,921,751],()=>t(9233));module.exports=r})();